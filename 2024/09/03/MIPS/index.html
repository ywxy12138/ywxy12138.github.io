<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MIPS | yumooo</title><meta name="author" content="聿尛"><meta name="copyright" content="聿尛"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MIPS汇编语言为了阅读和理解机器码（CPU所直接处理的是一条条二进制机器码指令），人们发明了汇编语言（低级语言，稍比机器语言高级）——本质上是一种&#x3D;&#x3D;助记符&#x3D;&#x3D;（用一些易于理解的符号代表特定含义的机器码，基本上贴着机器码描述，用标签（Label）来替代地址）。 注意：经常会用到的概念：比特（bit）、位、字节（byte）、半字节、字。 一比特就是一位，一字">
<meta property="og:type" content="article">
<meta property="og:title" content="MIPS">
<meta property="og:url" content="http://ywxy12138.github.io/2024/09/03/MIPS/index.html">
<meta property="og:site_name" content="yumooo">
<meta property="og:description" content="MIPS汇编语言为了阅读和理解机器码（CPU所直接处理的是一条条二进制机器码指令），人们发明了汇编语言（低级语言，稍比机器语言高级）——本质上是一种&#x3D;&#x3D;助记符&#x3D;&#x3D;（用一些易于理解的符号代表特定含义的机器码，基本上贴着机器码描述，用标签（Label）来替代地址）。 注意：经常会用到的概念：比特（bit）、位、字节（byte）、半字节、字。 一比特就是一位，一字">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://ywxy12138.github.io/img/MIPS.jpg">
<meta property="article:published_time" content="2024-09-03T12:51:51.000Z">
<meta property="article:modified_time" content="2024-09-08T12:15:27.732Z">
<meta property="article:author" content="聿尛">
<meta property="article:tag" content="MIPS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ywxy12138.github.io/img/MIPS.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://ywxy12138.github.io/2024/09/03/MIPS/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 聿尛","link":"链接: ","source":"来源: yumooo","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MIPS',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2024-09-08 20:15:27'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 19
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/self/custom.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E8%8A%B1%E9%AC%98.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/MIPS.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="yumooo"><span class="site-name">yumooo</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MIPS</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-03T12:51:51.000Z" title="发表于 2024-09-03 20:51:51">2024-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-08T12:15:27.732Z" title="更新于 2024-09-08 20:15:27">2024-09-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8C%97%E8%88%AA%E8%AE%A1%E7%BB%84%E7%AC%94%E8%AE%B0/">北航计组笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MIPS"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="MIPS"><a href="#MIPS" class="headerlink" title="MIPS"></a>MIPS</h1><h2 id="汇编语言"><a href="#汇编语言" class="headerlink" title="汇编语言"></a>汇编语言</h2><p>为了阅读和理解机器码（CPU所直接处理的是一条条二进制<strong>机器码</strong>指令），人们发明了汇编语言（低级语言，稍比机器语言高级）——本质上是一种&#x3D;&#x3D;助记符&#x3D;&#x3D;（用一些易于理解的符号代表特定含义的机器码，基本上贴着机器码描述，用<strong>标签</strong>（Label）来替代地址）。</p>
<p>注意：经常会用到的概念：比特（bit）、位、字节（byte）、半字节、字。</p>
<p>一比特就是一位，一字节是八位，半字节是四位，一个字的大小在不同的计算机架构不同，其中32位CPU中一个字为4个字节，16位CPU中一个字为2个字节，即一个字是能一次处理的最大位数。</p>
<h2 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>寄存器是 CPU 的组成部分之一，是一种<strong>高速存储器</strong>（甚至是 CPU 可以使用的最高速的一种存储器），可以用来暂存<strong>指令</strong>，<strong>数据</strong>，<strong>地址</strong>等。由于寄存器的成本较高，一般的 CPU 中只有数量很有限的寄存器可供使用。</p>
<p>在 MIPS 体系结构中，CPU 对数据的操作均是基于寄存器的。内存中的数据需要先使用<strong>读取（load）类指令</strong>保存到寄存器才可使用。操作完成的数据也不能直接保存到内存中，需要使用<strong>装载（store）类指令</strong>保存至内存中。</p>
<h3 id="MIPS-中的-32-个通用寄存器"><a href="#MIPS-中的-32-个通用寄存器" class="headerlink" title="MIPS 中的 32 个通用寄存器"></a>MIPS 中的 32 个通用寄存器</h3><p>所谓通用寄存器，代表它没有明确规定的用途，程序员可以随意对他们赋值、取值，同时它们的值也可以直接参与到各种指令之中。然而，虽然冠有通用的头衔，程序员们还是会以一定的规则来使用它们，这是为了便于程序员之间的交流，同时也是为编译器等工具定下了一定的标准。</p>
<p>这 32 个通用寄存器有两种命名方式，一种是按<strong>序号</strong>命名 <code>$0~$31</code>（注意前面有个美元的符号），一种就是按<strong>功能</strong>命名，如下表：</p>
<table>
<thead>
<tr>
<th>registers</th>
<th>Name</th>
<th>usage</th>
</tr>
</thead>
<tbody><tr>
<td>$0</td>
<td>$zero</td>
<td>常量0</td>
</tr>
<tr>
<td>$1</td>
<td>$at</td>
<td>保留给汇编器使用的临时变量</td>
</tr>
<tr>
<td>$2-$3</td>
<td>$v0-$v1</td>
<td>函数调用返回值</td>
</tr>
<tr>
<td>$4-$7</td>
<td>$a0-$a3</td>
<td>函数调用参数</td>
</tr>
<tr>
<td>$8-$15</td>
<td>$t0-$t7</td>
<td>临时变量</td>
</tr>
<tr>
<td>$16-$23</td>
<td>$s0-$s7</td>
<td>需要保存的变量</td>
</tr>
<tr>
<td>$24-$25</td>
<td>$t8-$t9</td>
<td>临时变量</td>
</tr>
<tr>
<td>$26-$27</td>
<td>$k0-$k1</td>
<td>留给操作系统使用</td>
</tr>
<tr>
<td>$28</td>
<td>$gp</td>
<td>全局指针</td>
</tr>
<tr>
<td>$29</td>
<td>$sp</td>
<td>堆栈指针</td>
</tr>
<tr>
<td>$30</td>
<td>$fp</td>
<td>帧指针</td>
</tr>
<tr>
<td>$31</td>
<td>$ra</td>
<td>返回地址</td>
</tr>
</tbody></table>
<p>特别说明：</p>
<ul>
<li><code>$0</code> 一般不能用于赋值，但这不代表你对它赋值就是错的。在实际中，你可以对 <code>$0</code> 进行赋值，但它的值会始终保持为 0。也就是说对 <code>$0</code> 赋值并不违反语法，但没有&#x3D;&#x3D;实际效果&#x3D;&#x3D;。</li>
<li><code>$1</code> 保留给汇编器，一般不使用此寄存器(使用该寄存器可能会导致难以发现的 bug，具体原因请在编写 MIPS 汇编时注意扩展指令是如何翻译成普通指令的)</li>
</ul>
<h3 id="三个特殊寄存器"><a href="#三个特殊寄存器" class="headerlink" title="三个特殊寄存器"></a>三个特殊寄存器</h3><ul>
<li><strong>PC（Program Counter）</strong>：它用于存储当前 CPU 正在执行的指令在内存中的地址。需要注意的是，这个寄存器的值不能用常规的指令进行取值和赋值，但这并不意味着不能做到，只是麻烦一些。那么，怎样对其取值、赋值呢？这可以作为一个思考的题目，在之后的学习中自行探索。（提示：跳转）</li>
<li><strong>HI</strong>：这个寄存器用于乘除法。它被用来存放每次乘法结果的<strong>高 32 位</strong>，也被用来存放除法结果的<strong>余数</strong>。</li>
<li><strong>LO</strong>：HI 的孪生兄弟。它被用来存放每次乘法结果的<strong>低 32 位</strong>，也被用来存放除法结果的<strong>商</strong>。</li>
</ul>
<h3 id="CP0-寄存器"><a href="#CP0-寄存器" class="headerlink" title="CP0 寄存器"></a>CP0 寄存器</h3><p>当我们的 CPU 设计推进到比较深入的阶段时，我们就需要对<strong>异常和中断</strong>进行处理，届时我们就会使用到 CP0 寄存器。</p>
<p>CP0 是一个系统控制<strong>协处理器</strong>，而 CP0 寄存器则是该协处理器工作时需要用到的一些寄存器。在我们的实验中，只会用到其中的 4 个寄存器：SR、Cause、EPC 和 PRId。</p>
<p>简单介绍：</p>
<ul>
<li><strong>SR：</strong>用于系统控制，决定是否允许异常和中断</li>
<li><strong>Cause：</strong>记录异常和中断的类型</li>
<li><strong>EPC：</strong>保存异常或中断发生时的 PC 值，也就是发送异常或中断时 CPU 正在执行的那条指令的地址。当处理完成之后，CPU 会根据这个地址返回到正常程序中继续往下执行。</li>
<li><strong>PRId：</strong>处理器 ID，用于实现个性的寄存器。</li>
</ul>
<h2 id="MIPS汇编指令"><a href="#MIPS汇编指令" class="headerlink" title="MIPS汇编指令"></a>MIPS汇编指令</h2><h3 id="初识指令"><a href="#初识指令" class="headerlink" title="初识指令"></a>初识指令</h3><p>指令，即是由<strong>处理器指令集架构</strong>（Instruction Set Architecture，可以理解为计算机体系结构中对程序相关的部分所做的定义）定义的处理器的独立操作，这个操作一般是运算、存储、读取等。一个指令在 CPU 中真正的存在形式是高低电平，也可以理解为由 01 序列组成的机器码。但因为机器码人类难以阅读和理解，所以指令一般由汇编语言来表示，也就是我们俗称的汇编指令。从这个角度上来说，汇编指令只是指令的一种表示形式而已，其实质是一样的。</p>
<p>一条指令的功能较为单一，一般不具有复杂的逻辑。例如「将某两个寄存器的值相加并存入另一个寄存器」，或者是「如果某个寄存器的值满足某个条件则跳转至某条指令」。</p>
<p>一小段汇编程序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>.text<br>.global main<br>main:<br>addi $t0, $0, 100 # tag<br>ori $t1, $0, 200<br>add $t2, $t1, $t2<br>sub $t3, $t2, $t1<br>lui $t4, 233<br>ori $v0, 1<br>ori $a0, 2333<br>mthi $t1<br>ori $a0, 2333<br>mthi $t1<br>syscall<br>nop #tag<br>loop:<br>j loop #tag<br>nop #tag<br></code></pre></td></tr></table></figure>

<p>其中 tag 标记的 <code>addi $t0, $0, 100</code> 就是一条指令，它的含义为“将 <code>$0</code> 寄存器的值加上 100，并将结果存入 <code>$t0</code> 寄存器”。</p>
<p>需要注意的是，虽然其主要由指令构成，但汇编语言并非全部由指令组成。上面的代码中，第 5-16、18-19 行为严格意义上的指令，其余有标签、伪指令等。</p>
<h3 id="指令格式"><a href="#指令格式" class="headerlink" title="指令格式"></a>指令格式</h3><p>指令一般由<strong>一个指令名</strong>作为开头，后跟该指令的<strong>操作数</strong>，中间由<strong>空格或逗号</strong>隔开。指令的操作数的个数一般为 &#x3D;&#x3D;0-3&#x3D;&#x3D; 个，每一个指令都有其固定操作数个数。一般来说，指令的格式如下：</p>
<p><em>指令名</em> <em>操作数 1</em>, <em>操作数 2</em>, <em>操作数 3</em></p>
<p>不过，也有如下的指令格式，一般用于存取类指令：</p>
<p><em>指令名</em> <em>操作数 1</em>, <em>操作数 3(操作数 2)</em></p>
<p>所谓操作数，即指令操作所作用的实体，可以是寄存器、<strong>立即数</strong>或标签，每个指令都有其固定的对操作数形式的要求。而<strong>标签最终会由汇编器转换为立即数</strong>。</p>
<p>所谓立即数，即&#x3D;&#x3D;在指令中设定好的常数&#x3D;&#x3D;，&#x3D;&#x3D;可以直接参与运算&#x3D;&#x3D;，一般长度为 <strong>16 位二进制</strong>。</p>
<p>而标签，用于使程序更简单清晰。标签用于表示一个<strong>地址</strong>，以供指令来引用。一般用于表示一个数据存取的地址（类似于数组名）、或者一个程序跳转的地址（类似于函数名，或者 C 语言中 <code>goto</code> 的跳转目标）。在 MIPS 汇编中（以及其他大部分汇编语言中），标签用如下的方式写出：</p>
<p><strong><code>name:</code></strong></p>
<p><strong>其中的「name」代表这个标签的名称，可以自行取名</strong>。</p>
<p>常见的指令格式样例：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">add </span>$<span class="hljs-built_in">s0</span>, $<span class="hljs-built_in">a0</span>, $<span class="hljs-built_in">a1</span><br><span class="hljs-keyword">addi </span>$<span class="hljs-built_in">s0</span>, $<span class="hljs-built_in">a0</span>, <span class="hljs-number">12</span><br><span class="hljs-keyword">mult </span>$<span class="hljs-built_in">s1</span>, $<span class="hljs-built_in">s2</span><br><span class="hljs-keyword">beq </span>$<span class="hljs-built_in">a1</span>, $<span class="hljs-built_in">a2</span>, -<span class="hljs-number">2</span><br><span class="hljs-keyword">blez </span>$<span class="hljs-built_in">s1</span>, -<span class="hljs-number">2</span><br><span class="hljs-keyword">jr </span>$<span class="hljs-built_in">ra</span><br><span class="hljs-keyword">j </span><span class="hljs-number">0x00003014</span><br></code></pre></td></tr></table></figure>

<p>当然，前面说过，可以使用标签来代替某个地址，因此也可以以如下方式书写：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">beq </span>$<span class="hljs-built_in">a1</span>, $<span class="hljs-built_in">a2</span>, loop<br><span class="hljs-keyword">j </span>loop<br></code></pre></td></tr></table></figure>

<p>这里的 <code>loop</code> 就是一个标签，其所代表的是一段代码的起始地址。在进行汇编时，汇编器会自动把标签转换成我们所需要的立即数，这样就不用我们自己去计算这些地址偏移量，简化了编程难度。</p>
<p><strong>注意：在 MARS 中，跳转指令只能使用标签来进行跳转，不能使用立即数！！！</strong></p>
<h3 id="机器码指令"><a href="#机器码指令" class="headerlink" title="机器码指令"></a>机器码指令</h3><p>作为一种机器能够理解的机器语言，机器码是CPU最基本的一种操作，一种原子操作，不可被打断。</p>
<p><strong>精简指令集</strong>（RISC，Reduced Instruction Set Computing）：所有指令长度相同，包括MIPS和手机上的ARM……</p>
<p><strong>复杂指令集</strong>（CISC，Complex Instruction Set Computing）：指令数目多，长度并不一定相同，包括PC段的x86架构。</p>
<p>一段汇编语言可转换为机器码。</p>
<p>如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>.text<br>.global main<br>main:<br>addi $t0, $0, 100<br>ori $t1, $0, 200<br>add $t2, $t1, $t2<br>sub $t3, $t2, $t1<br>lui $t4, 233<br>ori $v0, 1<br>ori $a0, 2333<br>mthi $t1<br>syscall<br>nop<br>loop:<br>j loop<br>nop<br></code></pre></td></tr></table></figure>

<p>转换结果(16进制)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs assembly">20080064<br>340900c8<br>012a5020<br>01495822<br>3c0c00e9<br>34420001<br>3484091d<br>01200011<br>0000000c<br>00000000<br>08000c0a<br>00000000<br></code></pre></td></tr></table></figure>

<h3 id="机器码指令格式"><a href="#机器码指令格式" class="headerlink" title="机器码指令格式"></a>机器码指令格式</h3><h4 id="R型指令"><a href="#R型指令" class="headerlink" title="R型指令"></a>R型指令</h4><p>R 型指令的操作数最多，一般用于<strong>运算</strong>指令。例如 <code>add</code>、<code>sub</code>、<code>sll</code> 等。其格式如下（左侧为高位，右侧为低位）：</p>
<table>
<thead>
<tr>
<th>op</th>
<th>rs</th>
<th>rt</th>
<th>rd</th>
<th>shamt</th>
<th>func</th>
</tr>
</thead>
<tbody><tr>
<td>6bits</td>
<td>5bits</td>
<td>5bits</td>
<td>5bits</td>
<td>5bits</td>
<td>6bits</td>
</tr>
</tbody></table>
<h4 id="I型指令"><a href="#I型指令" class="headerlink" title="I型指令"></a>I型指令</h4><p><strong>16位的立即数</strong>。一般用于<code>addi</code>、<code>subi</code>、<code>ori</code> 等与<strong>立即数相运算的指令</strong>（<strong>这里需要注意：在写汇编语言的时候，需要使用负号来标记负数，而不要和机器码一样认为首位的 1 就代表负数</strong>），或 <code>beq</code>、<code>bgtz</code> 等比较<strong>跳转</strong>指令，因为它们要让两个寄存器的值相比并让 PC 偏移 offset 这么多，刚好利用了全部的字段。还有存取指令，例如 <code>sw</code>、<code>lw</code>，它们在使用时需要对地址指定一个偏移值，也会用到立即数字段。</p>
<table>
<thead>
<tr>
<th>op</th>
<th>rs</th>
<th>rt</th>
<th>offset or immediate</th>
</tr>
</thead>
<tbody><tr>
<td>6bits</td>
<td>5bits</td>
<td>5bits</td>
<td>16bits</td>
</tr>
</tbody></table>
<h4 id="J型指令"><a href="#J型指令" class="headerlink" title="J型指令"></a>J型指令</h4><p>常见的为<code>j</code>和<code>jar</code>，它们需要直接跳转至某个地址，而非用当前的PC值+偏移量计算出新的地址，需要位数较多。</p>
<table>
<thead>
<tr>
<th>op</th>
<th>address</th>
</tr>
</thead>
<tbody><tr>
<td>6bits</td>
<td>26bits</td>
</tr>
</tbody></table>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意:"></a>注意:</h4><p>严格来说，并非所有的指令都严格遵守上面三种格式，有的如 <code>eret</code>、<code>syscall</code> 指令一样<strong>没有操作数</strong>；有的如 <code>jalr</code> 指令一样某些字段<strong>被固定为某个值</strong>。不过，就大部分指令而言，都可按上面三种格式进行解释，某些字段被固定也可以按照格式来识别为 R、I、J 中的一种，因此这三种格式要着重理解。</p>
<h4 id="解读"><a href="#解读" class="headerlink" title="解读"></a>解读</h4><ul>
<li><p><strong>op</strong>：也称 opcode、操作码，用于标识指令的功能。CPU 需要通过这个字段来识别这是一条什么指令。不过，由于 op 只有 6 位，不足以表示所有的 MIPS 指令，因此<strong>在 R 型指令中，有 func 字段来辅助它的功能</strong>。</p>
</li>
<li><p><strong>func</strong>: 用于辅助 op 来识别指令。</p>
</li>
<li><p><strong>rs</strong>、<strong>rt</strong>、<strong>rd</strong>： 通用寄存器的代号，并不特指某一寄存器。范围是<code>$0~$31</code>，用机器码表示就是 00000~11111。</p>
</li>
<li><p><strong>shamt</strong>：<strong>移位值</strong>，用于移位指令。</p>
</li>
<li><p><strong>offset</strong>：地址偏移量。</p>
</li>
<li><p><strong>immediate</strong>：立即数。</p>
</li>
<li><p><strong>address</strong>：跳转目标地址，用于<strong>跳转指令</strong> 。</p>
</li>
</ul>
<p>结合《MIPS-C 指令集》(下简称手册)读懂指令</p>
<ul>
<li>**+**：手册中的所有 <code>+</code> 一律将其左右两侧的操作数视为无符号数，再进行相加。</li>
<li>**-**：手册中的所有 <code>-</code> 一律将其左右两侧的操作数视为无符号数，再进行相减。</li>
<li><strong>下标</strong>：变量的下标代表变量中所取用的位，temp31temp31 即代表 temptemp 变量在二进制表示下的第 31 位。特别的，下标中的<code>..</code> 可理解为至，temp31..0temp31..0 与 temp[31:0]temp[31:0] 是等价的。</li>
<li><strong>上标</strong>：某一位二进制数（即 00 或 11 ）的上标代表该数字<strong>重复</strong>的位数，0^5^ 即代表 5′b00000。</li>
<li>**||**：该符号代表拼接操作。temp1∣∣temp2与 {temp1,temp2}等价。</li>
<li><strong>sign_extend()</strong> ：代表符号扩展，其扩展结果的正负会与被扩展数相同，一般用于有符号数。其扩展方法是，将被扩展数不足的部分用被扩展数的<strong>符号位</strong>补全。即若被扩展数为正数，则将其高位用 0 补全至相应位数；若为负数，则在高位补 1 至相应位数。</li>
<li><strong>zero_extend()</strong> ：代表无符号扩展，即倘若被扩展数位数不足，则将其高位补 0 至相应位数。</li>
<li><strong>GPR</strong> ：即 General Purpose Register （通用寄存器），其后的中括号内为寄存器编号， <code>GPR[rs]</code> 即可表示编号为 rs 的寄存器。</li>
<li><strong>memory</strong> ：表示内存，当其后跟随中括号时，表示存储在以括号中数值为起始地址的 <strong>4 字节</strong>内存中的数据。以 <code>memory[Addr]</code> 为例，其表示以 Addr 为首地址的 4 字节内存中存储的数据。</li>
</ul>
<h3 id="MIPS-C指令集"><a href="#MIPS-C指令集" class="headerlink" title="MIPS-C指令集"></a>MIPS-C指令集</h3><h4 id="1-ADD：符号加（R型指令）"><a href="#1-ADD：符号加（R型指令）" class="headerlink" title="1.ADD：符号加（R型指令）"></a>1.ADD：符号加（R型指令）</h4><p>格式：add rd, rs, rt</p>
<p>描述：GPR[rd] &lt;—GPR[rs]+GPR[rt]</p>
<p>示例：add $s1, $s2, $s3</p>
<p>不溢出的话，add同addu等价</p>
<h4 id="2-ADDI：符号加立即数（I）"><a href="#2-ADDI：符号加立即数（I）" class="headerlink" title="2.ADDI：符号加立即数（I）"></a>2.ADDI：符号加立即数（I）</h4><p>格式：addi rt, rs, immediate</p>
<p>示例：addi $s1, $s2, $s3</p>
<p>不考虑溢出，则addi与addiu等价</p>
<h4 id="3-ADDIU：无符号加立即数（I）"><a href="#3-ADDIU：无符号加立即数（I）" class="headerlink" title="3.ADDIU：无符号加立即数（I）"></a>3.ADDIU：无符号加立即数（I）</h4><p>格式：addiu rt, rs, immediate</p>
<p>“无符号”是误导，本意是不考虑溢出</p>
<h4 id="4-ADDU-无符号加（R）"><a href="#4-ADDU-无符号加（R）" class="headerlink" title="4.ADDU:无符号加（R）"></a>4.ADDU:无符号加（R）</h4><p>不考虑溢出</p>
<h4 id="5-AND-与（R）"><a href="#5-AND-与（R）" class="headerlink" title="5.AND:与（R）"></a>5.AND:与（R）</h4><p>and $s1, $s2, $s3:$s1&lt;—$s2 AND $s3</p>
<h4 id="6-ANDI-与立即数（I）"><a href="#6-ANDI-与立即数（I）" class="headerlink" title="6.ANDI:与立即数（I）"></a>6.ANDI:与立即数（I）</h4><p>格式 andi rt, rs, immediate</p>
<h4 id="7-BEQ：相等时转移（I）"><a href="#7-BEQ：相等时转移（I）" class="headerlink" title="7.BEQ：相等时转移（I）"></a>7.BEQ：相等时转移（I）</h4><p>格式：beq rs, rt, offset</p>
<p>描述：if (GPR[rs] &#x3D;&#x3D; GPR[rt]) then 转移</p>
<p>操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs assembly">if (GPR[rs] == GPR[rt]) <br>PC &lt;- PC + 4 + sign_extend(offset||0^2) <br>else <br>PC &lt;- PC + 4<br></code></pre></td></tr></table></figure>

<p>示例：beq $s1, $s2, -2</p>
<h4 id="8-BGEZ-大于等于0时转移（类I）"><a href="#8-BGEZ-大于等于0时转移（类I）" class="headerlink" title="8.BGEZ:大于等于0时转移（类I）"></a>8.BGEZ:大于等于0时转移（类I）</h4><p>转移操作同BEQ（传入两个操作数即可）</p>
<h4 id="9-BGTZ：大于0时转移（类I）"><a href="#9-BGTZ：大于0时转移（类I）" class="headerlink" title="9.BGTZ：大于0时转移（类I）"></a>9.BGTZ：大于0时转移（类I）</h4><p>转移操作同BEQ（传入两个操作数即可）</p>
<h4 id="10-BLEZ：小于等于0时转移（类I）"><a href="#10-BLEZ：小于等于0时转移（类I）" class="headerlink" title="10.BLEZ：小于等于0时转移（类I）"></a>10.BLEZ：小于等于0时转移（类I）</h4><p>转移操作同BEQ（传入两个操作数即可）</p>
<h4 id="11-BLTZ：小于0时转移（类I）"><a href="#11-BLTZ：小于0时转移（类I）" class="headerlink" title="11.BLTZ：小于0时转移（类I）"></a>11.BLTZ：小于0时转移（类I）</h4><p>转移操作同BEQ（传入两个操作数即可）</p>
<h4 id="12-BNE：不等于时转移（I）"><a href="#12-BNE：不等于时转移（I）" class="headerlink" title="12.BNE：不等于时转移（I）"></a>12.BNE：不等于时转移（I）</h4><p>转移操作同BEQ（传入三个操作数）</p>
<h4 id="13-BREAK：断点"><a href="#13-BREAK：断点" class="headerlink" title="13.BREAK：断点"></a>13.BREAK：断点</h4><p>示例：break</p>
<p>描述：产生断点异常</p>
<h4 id="14-DIV：符号除（类R）"><a href="#14-DIV：符号除（类R）" class="headerlink" title="14.DIV：符号除（类R）"></a>14.DIV：符号除（类R）</h4><p>格式：div rs, rt</p>
<p>描述：(HI, LO) &lt;- GPR[rs] &#x2F; GPR[rt] </p>
<p><strong>商存放在LO寄存器，余数存放在HI寄存器</strong></p>
<p>若除数为0则HI&#x2F;LO结果不可预测</p>
<h4 id="15-DIVU：无符号除"><a href="#15-DIVU：无符号除" class="headerlink" title="15.DIVU：无符号除"></a>15.DIVU：无符号除</h4><p>操作：LO&lt;- (0||GPR[rs]) div (0||GPR[rt]) </p>
<p>HI&lt;- (0||GPR[rs]) mod (0||GPR[rt])</p>
<p>作为无符号除法，所以先对其0扩展1位后再进行计算</p>
<h4 id="16-ERET：异常返回"><a href="#16-ERET：异常返回" class="headerlink" title="16.ERET：异常返回"></a>16.ERET：异常返回</h4><p>格式：eret</p>
<p>描述：<strong>eret 将保存在 CP0 的 EPC 寄存器中的现场(被中断指令的下一条地址)写入 PC，从而实现从中断、异常或指令执行错误的处理程序中返回</strong>。</p>
<p>操作：PC&lt;-CP0[epc]</p>
<p>当程序被硬件中断、执行 sc 指令、指令执行异常(如除 0)时，PC 将被保存在 EPC 中。 </p>
<p><strong>【注意】</strong>如果是硬件中断和 SC，EPC 中保存的 PC+4；如果是指令执行异常(如除零、 异常等)，则保存 PC。</p>
<h4 id="17-J-跳转（J）"><a href="#17-J-跳转（J）" class="headerlink" title="17.J:跳转（J）"></a>17.J:跳转（J）</h4><p>格式：j target</p>
<p>描述：j 指令是 PC 相关的转移指令。当把 4GB 划分为 16 个 256MB 区域，j 指令可以在当前 PC 所在的 256MB 区域内<strong>任意跳转</strong>。</p>
<p>操作：PC &lt;- PC31..28||instr_index||0^2^</p>
<p>如果需要跳转范围超出了当前 PC 所在的 256MB 区域内时，可以使用 JR 指令。</p>
<h4 id="18-JAL-跳转并链接（J）"><a href="#18-JAL-跳转并链接（J）" class="headerlink" title="18.JAL:跳转并链接（J）"></a>18.JAL:跳转并链接（J）</h4><p>描述：jal 指令是<strong>函数指令</strong>，PC 转向被调用函数，同时将**当前 PC+4 保存在 GPR[31]**中。当把 4GB 划分为 16 个 256MB 区域，jal 指令可以在当前 PC 所在的 256MB 区域内任意跳转。</p>
<p>操作：PC&lt;-PC31..28||instr_index||0^2^ </p>
<p>​           GPR[31]&lt;-PC + 4</p>
<p>jal 与 jr 配套使用。jal 用于调用函数，jr 用于函数返回。当所调用的函数地址超出了当前 PC 所在的 256MB 区域内时，可以使用 jalr指令。</p>
<h4 id="19-JALR-跳转并链接（类R）"><a href="#19-JALR-跳转并链接（类R）" class="headerlink" title="19.JALR:跳转并链接（类R）"></a>19.JALR:跳转并链接（类R）</h4><p>格式：jalr rd, rs</p>
<p>描述：jalr指令是函数指令，PC转向被调用函数(函数入口地址保存在GPR[rs]中)，同时将当前 PC+4 保存在 GPR[rd]中。</p>
<h4 id="20-JR：跳转至寄存器"><a href="#20-JR：跳转至寄存器" class="headerlink" title="20.JR：跳转至寄存器"></a>20.JR：跳转至寄存器</h4><p>格式：jr rs</p>
<p>操作：PC &lt;- GPR[rs]</p>
<p>jr 与 jal&#x2F;jalr 配套使用。jal&#x2F;jalr 用于调用函数，jr 用于函数返回.</p>
<h4 id="21-LB-加载字节（I）"><a href="#21-LB-加载字节（I）" class="headerlink" title="21.LB:加载字节（I）"></a>21.LB:加载字节（I）</h4><p>格式：lb rt,offset(base)</p>
<p>描述：GPR[rt] &lt;- memory[GPR[base]+offset]</p>
<p>操作：Addr &lt;- GPR[base] + sign_ext(offset) </p>
<p>​         memword &lt;- memory[Addr] </p>
<p>​         byte &lt;- Addr<del>1..0</del> </p>
<p>​         GPR[rt] &lt;- sign_ext(memword<del>7+8<em>byte..8</em>byte</del>)</p>
<p>示例：lb $v1,3($s0)</p>
<h4 id="22-LBU-加载无符号字符（I"><a href="#22-LBU-加载无符号字符（I" class="headerlink" title="22.LBU:加载无符号字符（I)"></a>22.LBU:加载无符号字符（I)</h4><p>操作同LB略有不同：</p>
<p>​        Addr &lt;- GPR[base] + sign_ext(offset) </p>
<p>​         memword &lt;- memory[Addr] </p>
<p>​         byte &lt;- Addr<del>1..0</del> </p>
<p>​         GPR[rt] &lt;- zero_ext(memword<del>7+8<em>byte..8</em>byte</del>)</p>
<p>最后一步操作中扩展的是0而不是符号位</p>
<h4 id="23-LH：加载半字（类I）"><a href="#23-LH：加载半字（类I）" class="headerlink" title="23.LH：加载半字（类I）"></a>23.LH：加载半字（类I）</h4><p>操作同LB略有不同：</p>
<p>​         Addr &lt;- GPR[base] + sign_ext(offset) </p>
<p>​         memword &lt;- memory[Addr] </p>
<p>​         byte &lt;- Addr<del>1</del> </p>
<p>​         GPR[rt] &lt;- sign_ext(memword<del>15+16<em>byte.16</em>byte</del>)</p>
<p>半字一般为两个字节，16位</p>
<p>约束：<strong>Addr 必须是 2 的倍数(即 Addr<del>0</del> 必须为 0)，否则产生地址错误异常</strong></p>
<h4 id="24-LHU：加载无符号半字-I"><a href="#24-LHU：加载无符号半字-I" class="headerlink" title="24.LHU：加载无符号半字(I)"></a>24.LHU：加载无符号半字(I)</h4><p>操作同LH略有不同：</p>
<p>​         Addr &lt;- GPR[base] + sign_ext(offset) </p>
<p>​         memword &lt;- memory[Addr] </p>
<p>​         byte &lt;- Addr<del>1</del> </p>
<p>​         GPR[rt] &lt;- zero_ext(memword<del>15+16<em>byte.16</em>byte</del>)</p>
<h4 id="25-LUI：立即数加载至高位-I"><a href="#25-LUI：立即数加载至高位-I" class="headerlink" title="25.LUI：立即数加载至高位(I)"></a>25.LUI：立即数加载至高位(I)</h4><p>格式：lui rt,immediate</p>
<p>操作：GPR[rt] &lt;- immediate||0^16^</p>
<h4 id="26-LW-加载字-I"><a href="#26-LW-加载字-I" class="headerlink" title="26.LW:加载字(I)"></a>26.LW:加载字(I)</h4><p>操作与LB不同：</p>
<p>Addr&lt;-GPR[base]+sign_ext(offset)</p>
<p>GPR[rt]&lt;-memory[Addr]</p>
<p>约束：Addr必须是4的倍数，否则会产生地址错误异常</p>
<h4 id="27-MFC0：读CP0寄存器（类R）"><a href="#27-MFC0：读CP0寄存器（类R）" class="headerlink" title="27.MFC0：读CP0寄存器（类R）"></a>27.MFC0：读CP0寄存器（类R）</h4><p>操作：GPR[rt] &lt;- CP0[rd]</p>
<h4 id="28-MFHI-读HI寄存器"><a href="#28-MFHI-读HI寄存器" class="headerlink" title="28.MFHI:读HI寄存器"></a>28.MFHI:读HI寄存器</h4><p>操作：GPR[rt] &lt;- HI</p>
<p>当乘法&#x2F;除法计算完毕后，需要用 mfhi 读取相应的结果。</p>
<h4 id="29-MFLO：读LO寄存器"><a href="#29-MFLO：读LO寄存器" class="headerlink" title="29.MFLO：读LO寄存器"></a>29.MFLO：读LO寄存器</h4><p>用法同MFHI</p>
<h4 id="30-MTC0：写CP0寄存器（类R）"><a href="#30-MTC0：写CP0寄存器（类R）" class="headerlink" title="30.MTC0：写CP0寄存器（类R）"></a>30.MTC0：写CP0寄存器（类R）</h4><p>同MFC0操作相反。</p>
<h4 id="31-MTHI：写HI寄存器"><a href="#31-MTHI：写HI寄存器" class="headerlink" title="31.MTHI：写HI寄存器"></a>31.MTHI：写HI寄存器</h4><p>与MFHI操作相反</p>
<p>mthi&#x2F;mtlo 只在进行中断响应是需要使用。此时与 mfhi&#x2F;mflo 配套使用确保被中断程序的乘除法运算在中断响应结束后能够得到正确结果。</p>
<h4 id="32-MTLO：写LO寄存器"><a href="#32-MTLO：写LO寄存器" class="headerlink" title="32.MTLO：写LO寄存器"></a>32.MTLO：写LO寄存器</h4><p>操作同MFLO相反</p>
<h4 id="33-MULT：符号乘"><a href="#33-MULT：符号乘" class="headerlink" title="33.MULT：符号乘"></a>33.MULT：符号乘</h4><p>格式：mult rs,rt</p>
<p>描述：(HI, LO)&lt;- GPR[rs]×GPR[rt]，乘积低32位存放在LO寄存器，高32位存放在HI寄存器。所有操作数均为有符号数。</p>
<p>操作：</p>
<p>prod &lt;- GPR[rs]× GPR[rt] </p>
<p>HI &lt;- prod63..32 </p>
<p>LO &lt;- prod31..0</p>
<h4 id="34-MULTU-无符号乘"><a href="#34-MULTU-无符号乘" class="headerlink" title="34.MULTU:无符号乘"></a>34.MULTU:无符号乘</h4><p>所有操作数为无符号数，操作同MULT略有不同：</p>
<p>prod &lt;- （0||GPR[rs]）×（0||GPR[rt]） </p>
<p>HI &lt;- prod63..32 </p>
<p>LO &lt;- prod31..0</p>
<h4 id="35-NOR：或非（R）"><a href="#35-NOR：或非（R）" class="headerlink" title="35.NOR：或非（R）"></a>35.NOR：或非（R）</h4><p>操作：nor $s1, $s2, $s3:$s1&lt;—$s2 nor $s3</p>
<h4 id="36-OR-或（R）"><a href="#36-OR-或（R）" class="headerlink" title="36.OR:或（R）"></a>36.OR:或（R）</h4><p>操作：or $s1, $s2, $s3:$s1&lt;—$s2 or $s3</p>
<h4 id="37-ORI-或立即数（I）"><a href="#37-ORI-或立即数（I）" class="headerlink" title="37.ORI:或立即数（I）"></a>37.ORI:或立即数（I）</h4><p>ori rt, rs, immediate:</p>
<p>GPR[rt] &lt;- GPR[rs] OR zero_extend(immediate)</p>
<h4 id="38-SB-存储字节（类I）"><a href="#38-SB-存储字节（类I）" class="headerlink" title="38.SB:存储字节（类I）"></a>38.SB:存储字节（类I）</h4><p>格式： sb rt, offset(base)</p>
<p>描述：memory[GPR[base]+offset] &lt;- GPR[rt]</p>
<p>操作：Addr &lt;- GPR[base] + sign_extend(offset) </p>
<p>​            byte &lt;- Addr<del>1..0</del> </p>
<p>​            memory[Addr]<del>7+8<em>byte..8</em>byte</del> &lt;- GPR[rt]<del>7:0</del></p>
<p>约束：Addr必须是2的倍数，否则会产生地址错误异常</p>
<h4 id="39-SH：存储半字节（类I）"><a href="#39-SH：存储半字节（类I）" class="headerlink" title="39.SH：存储半字节（类I）"></a>39.SH：存储半字节（类I）</h4><p>操作同SB略有不同：</p>
<p>​            Addr &lt;- GPR[base] + sign_extend(offset) </p>
<p>​            byte &lt;- Addr<del>1</del> </p>
<p>​            memory[Addr]<del>15+16<em>byte..16</em>byte</del> &lt;- GPR[rt]<del>15:0</del></p>
<h4 id="40-SLL：逻辑左移（类R"><a href="#40-SLL：逻辑左移（类R" class="headerlink" title="40.SLL：逻辑左移（类R)"></a>40.SLL：逻辑左移（类R)</h4><p>格式：sll rd, rt, s</p>
<p>描述：GPR[rd] &lt;- GPR[rt] &lt;&lt; s</p>
<p>操作: GPR[rd] &lt;- GPR[rt] <del>(31-s)..0</del>||0^s^</p>
<p>sll $0, $0, 0 对应的指令码是 0x0000_0000，也被认为是 NOP(空操作指令)。 该指令有时被用于空循环，有时被编译器用于与体系结构相关的编译优化。</p>
<h4 id="41-SLLV-逻辑可变左移（R）"><a href="#41-SLLV-逻辑可变左移（R）" class="headerlink" title="41.SLLV:逻辑可变左移（R）"></a>41.SLLV:逻辑可变左移（R）</h4><p>格式：sllv rd, rt, rs</p>
<p>描述： GPR[rd] &lt;- GPR[rt] &lt;&lt; GPR[rs]</p>
<p>操作：s &lt;- GPR[rs]<del>4..0</del> </p>
<p>​          GPR[rd] &lt;- GPR[rt] <del>(31-s)..0</del>||0^s^</p>
<p>GPR[rs]的位31至位5被忽略</p>
<h4 id="42-SLT-小于-最低位-置1（有符号）（R）"><a href="#42-SLT-小于-最低位-置1（有符号）（R）" class="headerlink" title="42.SLT:小于(最低位)置1（有符号）（R）"></a>42.SLT:小于(最低位)置1（有符号）（R）</h4><p>格式：slt rd,rs,rt (rs:00000)</p>
<p>描述：GPR[rd] &lt;- (GPR[rs] &lt; GPR[rt])</p>
<p>操作： GPR[rd] &lt;- (GPR[rs] &lt; GPR[rt]) ? 0^31^||1 : 0^32^</p>
<h4 id="43-SLTI-小于立即数置1（有符号）（I）"><a href="#43-SLTI-小于立即数置1（有符号）（I）" class="headerlink" title="43.SLTI:小于立即数置1（有符号）（I）"></a>43.SLTI:小于立即数置1（有符号）（I）</h4><p>操作同SLT略有不同：</p>
<p>GPR[rd] &lt;- (GPR[rs] &lt; sign_extend(immediate)) ? 0^31^||1 : 0^32^</p>
<h4 id="44-SLTIU：小于立即数置1（无符号）（I）"><a href="#44-SLTIU：小于立即数置1（无符号）（I）" class="headerlink" title="44.SLTIU：小于立即数置1（无符号）（I）"></a>44.SLTIU：小于立即数置1（无符号）（I）</h4><p>操作同SLTI略有不同：</p>
<p>GPR[rd] &lt;- (GPR[rs] &lt; 0||sign_extend(immediate)) ? 0^31^||1 : 0^32^</p>
<h4 id="45-SLTU：小于置1（无符号）（R）"><a href="#45-SLTU：小于置1（无符号）（R）" class="headerlink" title="45.SLTU：小于置1（无符号）（R）"></a>45.SLTU：小于置1（无符号）（R）</h4><p>操作同SLT略有不同：</p>
<p> GPR[rd] &lt;- (0||GPR[rs] &lt; 0||GPR[rt]) ? 0^31^||1 : 0^32^</p>
<h4 id="46-SRA：算术右移（类R）"><a href="#46-SRA：算术右移（类R）" class="headerlink" title="46.SRA：算术右移（类R）"></a>46.SRA：算术右移（类R）</h4><p>格式：sra rd, rt, s</p>
<p>操作：GPR[rd] &lt;- GPR[rt]<del>31</del>^s^ ||GPR[rt]<del>31..s</del></p>
<h4 id="47-SRAV：算术可变右移（R）"><a href="#47-SRAV：算术可变右移（R）" class="headerlink" title="47.SRAV：算术可变右移（R）"></a>47.SRAV：算术可变右移（R）</h4><p>格式：srav rd, rt, rs</p>
<p>操作：s &lt;- GPR[rs]<del>4..0</del></p>
<p>GPR[rd] &lt;- GPR[rt]<del>31</del>^s^ ||GPR[rt]<del>31..s</del></p>
<p>GPR[rs]的位31至5位被忽略</p>
<h4 id="48-SRL-逻辑右移（类R）"><a href="#48-SRL-逻辑右移（类R）" class="headerlink" title="48.SRL:逻辑右移（类R）"></a>48.SRL:逻辑右移（类R）</h4><p>操作同SRA略有不同：</p>
<p>GPR[rd] &lt;- 0^s^ ||GPR[rt]<del>31..s</del></p>
<h4 id="49-SRLV：逻辑可变右移（R）"><a href="#49-SRLV：逻辑可变右移（R）" class="headerlink" title="49.SRLV：逻辑可变右移（R）"></a>49.SRLV：逻辑可变右移（R）</h4><p>操作同SRAV略有不同：</p>
<p>s &lt;- GPR[rs]<del>4..0</del></p>
<p>GPR[rd] &lt;- 0^s^ ||GPR[rt]<del>31..s</del></p>
<h4 id="50-SUB：符号减（R）"><a href="#50-SUB：符号减（R）" class="headerlink" title="50.SUB：符号减（R）"></a>50.SUB：符号减（R）</h4><p>格式：sub rd,rs,rt</p>
<p>操作：</p>
<p>temp &lt;- (GPR[rs]<del>31</del>||GPR[rs]) - (GPR[rt]<del>31</del>||GPR[rt]) </p>
<p>if temp32 ≠ temp31 then </p>
<p>SignalException(IntegerOverflow) </p>
<p>else GPR[rd] ← temp<del>31..0</del> </p>
<p>endif</p>
<p>temp32 ≠ temp31 代表计算结果溢出。 </p>
<p>如果不考虑溢出，则 sub 与 subu 等价。</p>
<h4 id="51-SUBU-无符号减（R）"><a href="#51-SUBU-无符号减（R）" class="headerlink" title="51.SUBU:无符号减（R）"></a>51.SUBU:无符号减（R）</h4><p>GPR[rd] &lt;- GPR[rs] - GPR[rt]</p>
<p>不考虑减法溢出。例如：0x0000_0000 - 0xFFFF_FFFF &#x3D; 0x0000_0001， 即结果为非负值。</p>
<h4 id="52-SW：存储字（I）"><a href="#52-SW：存储字（I）" class="headerlink" title="52.SW：存储字（I）"></a>52.SW：存储字（I）</h4><p>格式：sw rt, offset(base)</p>
<p>描述：memory[GPR[base]+offset] &lt;- GPR[rt]</p>
<p>操作：Addr &lt;- GPR[base] + sign_ext(offset) </p>
<p>memory[Addr] &lt;- GPR[rt]</p>
<p>Addr必须为4的倍数，否则产生地址错误异常</p>
<h4 id="53-SYSCALL：系统调用"><a href="#53-SYSCALL：系统调用" class="headerlink" title="53.SYSCALL：系统调用"></a>53.SYSCALL：系统调用</h4><p>描述：产生系统调用异常</p>
<p>操作：SignalException(systemcall)</p>
<h4 id="54-XOR-异或（R）"><a href="#54-XOR-异或（R）" class="headerlink" title="54.XOR:异或（R）"></a>54.XOR:异或（R）</h4><p>操作：GPR[rd] &lt;—GPR[rs] XOR GPR[rt]</p>
<h4 id="55-XORI：异或立即数（I）"><a href="#55-XORI：异或立即数（I）" class="headerlink" title="55.XORI：异或立即数（I）"></a>55.XORI：异或立即数（I）</h4><p>操作同XOR略有不同：</p>
<p>GPR[rd] &lt;—GPR[rs] XOR zero_extend(immediate)</p>
<h3 id="扩展指令"><a href="#扩展指令" class="headerlink" title="扩展指令"></a>扩展指令</h3><p>扩展指令功能主要是简化程序。汇编器将一些常用、但标准指令集不提供的功能<strong>封装</strong>为一条指令；或者改变现有指令的操作数的形式或个数，使其以新的形式出现。需要注意的是，它们只是<strong>形式上</strong>是一条新指令，而实际上，在汇编器将其汇编之后，还是<strong>使用标准指令来实现</strong>的。</p>
<p>最常用到的一条扩展指令是<strong>li指令</strong>，它用来为某个寄存器赋值，比如 <code>li $a0,100</code> 就是将 100 赋给 <code>$a0</code> 寄存器。汇编器在翻译这条扩展指令时会根据需要，将它翻译成不同的基本指令或基本指令的组合。如下，第一条 <code>li</code> 指令后面的立即数不多于 16 位，因此只被翻译成了一条 <code>addiu</code>；第二条 <code>li</code> 指令后面的立即数多于 16 位，因此被翻译成了 lui+ori 的组合。</p>
<p><img src="/img/li%E6%8C%87%E4%BB%A4.png" alt="li指令"></p>
<p>另一条常用的扩展指令是 <code>la</code> 指令，这条指令与 <code>li</code> 指令非常类似，都是为寄存器赋值，只不过是使用标签来为寄存器赋值。经过了前面的学习，大家应该已经知道标签本质上对应一个 32 位地址，但 <code>li</code> 指令并不能直接使用标签来为寄存器赋值，必须要使用 <code>la</code>。比如 <code>la $t0, fibs</code> 这条指令就是把 fibs 这个标签的地址存入<code>$t0</code> 中。</p>
<p><img src="/img/la%E6%8C%87%E4%BB%A4.png" alt="la指令"></p>
<p>上面的例子就是利用现有基础指令组合出新的扩展指令。当然，我们也可以对现有指令进行简化或转写，例如前面提到过的 <code>j 0xc0a</code>，我们可以将其立即数改为一个标签，这样汇编器会在进行汇编时，会将标签所代表的立即数计算出来，形成基本指令的形式，例如下图：</p>
<p><img src="/img/%E8%BD%AC%E5%86%99%E6%8C%87%E4%BB%A4.png" alt="转写指令"></p>
<h3 id="伪指令"><a href="#伪指令" class="headerlink" title="伪指令"></a>伪指令</h3><p>伪指令（Directives）是用来指导汇编器<strong>如何处理程序</strong>的语句，有点类似于其他语言中的<strong>预处理命令</strong>。伪指令不是指令，它并不会被编译为机器码，但它却能影响其他指令的汇编结果。常用的伪指令有以下几个：</p>
<ul>
<li><strong>.data：</strong>用于预先存储数据的伪指令的<strong>开始标志</strong>。</li>
<li><strong>.text：</strong>程序代码指令开始的标志。</li>
<li><strong>.word：</strong>以字为单位存储数据。</li>
<li><strong>.asciiz：</strong>以字节为单位存储字符串。</li>
<li><strong>.space：</strong>申请若干个字节的未初始化的内存空间。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://ywxy12138.github.io">聿尛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://ywxy12138.github.io/2024/09/03/MIPS/">http://ywxy12138.github.io/2024/09/03/MIPS/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://ywxy12138.github.io" target="_blank">yumooo</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MIPS/">MIPS</a></div><div class="post_share"><div class="social-share" data-image="/img/MIPS.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/09/02/%E8%AE%A1%E7%BB%84/" title="计组"><img class="cover" src="/img/OIP-C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">计组</div></div></a></div><div class="next-post pull-right"><a href="/2024/09/05/oopre/" title="oopre"><img class="cover" src="/img/java.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">oopre</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/%E8%8A%B1%E9%AC%98.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">聿尛</div><div class="author-info__description">孤独永恒，死亡永生。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ywxy12138"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">无可奈何花落去，似曾相识燕归来！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MIPS"><span class="toc-number">1.</span> <span class="toc-text">MIPS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">汇编语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">寄存器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MIPS-%E4%B8%AD%E7%9A%84-32-%E4%B8%AA%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.2.2.</span> <span class="toc-text">MIPS 中的 32 个通用寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E7%89%B9%E6%AE%8A%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">三个特殊寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CP0-%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.2.4.</span> <span class="toc-text">CP0 寄存器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MIPS%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">MIPS汇编指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E8%AF%86%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.1.</span> <span class="toc-text">初识指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">指令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%BA%E5%99%A8%E7%A0%81%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.3.</span> <span class="toc-text">机器码指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%BA%E5%99%A8%E7%A0%81%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">机器码指令格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R%E5%9E%8B%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">R型指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#I%E5%9E%8B%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">I型指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#J%E5%9E%8B%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">J型指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">注意:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E8%AF%BB"><span class="toc-number">1.3.4.5.</span> <span class="toc-text">解读</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MIPS-C%E6%8C%87%E4%BB%A4%E9%9B%86"><span class="toc-number">1.3.5.</span> <span class="toc-text">MIPS-C指令集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-ADD%EF%BC%9A%E7%AC%A6%E5%8F%B7%E5%8A%A0%EF%BC%88R%E5%9E%8B%E6%8C%87%E4%BB%A4%EF%BC%89"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">1.ADD：符号加（R型指令）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-ADDI%EF%BC%9A%E7%AC%A6%E5%8F%B7%E5%8A%A0%E7%AB%8B%E5%8D%B3%E6%95%B0%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">2.ADDI：符号加立即数（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-ADDIU%EF%BC%9A%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%8A%A0%E7%AB%8B%E5%8D%B3%E6%95%B0%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">3.ADDIU：无符号加立即数（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-ADDU-%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%8A%A0%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">4.ADDU:无符号加（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-AND-%E4%B8%8E%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.5.</span> <span class="toc-text">5.AND:与（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-ANDI-%E4%B8%8E%E7%AB%8B%E5%8D%B3%E6%95%B0%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.6.</span> <span class="toc-text">6.ANDI:与立即数（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-BEQ%EF%BC%9A%E7%9B%B8%E7%AD%89%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.7.</span> <span class="toc-text">7.BEQ：相等时转移（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-BGEZ-%E5%A4%A7%E4%BA%8E%E7%AD%89%E4%BA%8E0%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.8.</span> <span class="toc-text">8.BGEZ:大于等于0时转移（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-BGTZ%EF%BC%9A%E5%A4%A7%E4%BA%8E0%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.9.</span> <span class="toc-text">9.BGTZ：大于0时转移（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-BLEZ%EF%BC%9A%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E0%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.10.</span> <span class="toc-text">10.BLEZ：小于等于0时转移（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-BLTZ%EF%BC%9A%E5%B0%8F%E4%BA%8E0%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.11.</span> <span class="toc-text">11.BLTZ：小于0时转移（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-BNE%EF%BC%9A%E4%B8%8D%E7%AD%89%E4%BA%8E%E6%97%B6%E8%BD%AC%E7%A7%BB%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.12.</span> <span class="toc-text">12.BNE：不等于时转移（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-BREAK%EF%BC%9A%E6%96%AD%E7%82%B9"><span class="toc-number">1.3.5.13.</span> <span class="toc-text">13.BREAK：断点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-DIV%EF%BC%9A%E7%AC%A6%E5%8F%B7%E9%99%A4%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.14.</span> <span class="toc-text">14.DIV：符号除（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-DIVU%EF%BC%9A%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4"><span class="toc-number">1.3.5.15.</span> <span class="toc-text">15.DIVU：无符号除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-ERET%EF%BC%9A%E5%BC%82%E5%B8%B8%E8%BF%94%E5%9B%9E"><span class="toc-number">1.3.5.16.</span> <span class="toc-text">16.ERET：异常返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-J-%E8%B7%B3%E8%BD%AC%EF%BC%88J%EF%BC%89"><span class="toc-number">1.3.5.17.</span> <span class="toc-text">17.J:跳转（J）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-JAL-%E8%B7%B3%E8%BD%AC%E5%B9%B6%E9%93%BE%E6%8E%A5%EF%BC%88J%EF%BC%89"><span class="toc-number">1.3.5.18.</span> <span class="toc-text">18.JAL:跳转并链接（J）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-JALR-%E8%B7%B3%E8%BD%AC%E5%B9%B6%E9%93%BE%E6%8E%A5%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.19.</span> <span class="toc-text">19.JALR:跳转并链接（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-JR%EF%BC%9A%E8%B7%B3%E8%BD%AC%E8%87%B3%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.3.5.20.</span> <span class="toc-text">20.JR：跳转至寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-LB-%E5%8A%A0%E8%BD%BD%E5%AD%97%E8%8A%82%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.21.</span> <span class="toc-text">21.LB:加载字节（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-LBU-%E5%8A%A0%E8%BD%BD%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%AD%97%E7%AC%A6%EF%BC%88I"><span class="toc-number">1.3.5.22.</span> <span class="toc-text">22.LBU:加载无符号字符（I)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-LH%EF%BC%9A%E5%8A%A0%E8%BD%BD%E5%8D%8A%E5%AD%97%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.23.</span> <span class="toc-text">23.LH：加载半字（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-LHU%EF%BC%9A%E5%8A%A0%E8%BD%BD%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%8D%8A%E5%AD%97-I"><span class="toc-number">1.3.5.24.</span> <span class="toc-text">24.LHU：加载无符号半字(I)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-LUI%EF%BC%9A%E7%AB%8B%E5%8D%B3%E6%95%B0%E5%8A%A0%E8%BD%BD%E8%87%B3%E9%AB%98%E4%BD%8D-I"><span class="toc-number">1.3.5.25.</span> <span class="toc-text">25.LUI：立即数加载至高位(I)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#26-LW-%E5%8A%A0%E8%BD%BD%E5%AD%97-I"><span class="toc-number">1.3.5.26.</span> <span class="toc-text">26.LW:加载字(I)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#27-MFC0%EF%BC%9A%E8%AF%BBCP0%E5%AF%84%E5%AD%98%E5%99%A8%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.27.</span> <span class="toc-text">27.MFC0：读CP0寄存器（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#28-MFHI-%E8%AF%BBHI%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.3.5.28.</span> <span class="toc-text">28.MFHI:读HI寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#29-MFLO%EF%BC%9A%E8%AF%BBLO%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.3.5.29.</span> <span class="toc-text">29.MFLO：读LO寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#30-MTC0%EF%BC%9A%E5%86%99CP0%E5%AF%84%E5%AD%98%E5%99%A8%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.30.</span> <span class="toc-text">30.MTC0：写CP0寄存器（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#31-MTHI%EF%BC%9A%E5%86%99HI%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.3.5.31.</span> <span class="toc-text">31.MTHI：写HI寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#32-MTLO%EF%BC%9A%E5%86%99LO%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.3.5.32.</span> <span class="toc-text">32.MTLO：写LO寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#33-MULT%EF%BC%9A%E7%AC%A6%E5%8F%B7%E4%B9%98"><span class="toc-number">1.3.5.33.</span> <span class="toc-text">33.MULT：符号乘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#34-MULTU-%E6%97%A0%E7%AC%A6%E5%8F%B7%E4%B9%98"><span class="toc-number">1.3.5.34.</span> <span class="toc-text">34.MULTU:无符号乘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#35-NOR%EF%BC%9A%E6%88%96%E9%9D%9E%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.35.</span> <span class="toc-text">35.NOR：或非（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#36-OR-%E6%88%96%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.36.</span> <span class="toc-text">36.OR:或（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#37-ORI-%E6%88%96%E7%AB%8B%E5%8D%B3%E6%95%B0%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.37.</span> <span class="toc-text">37.ORI:或立即数（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#38-SB-%E5%AD%98%E5%82%A8%E5%AD%97%E8%8A%82%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.38.</span> <span class="toc-text">38.SB:存储字节（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#39-SH%EF%BC%9A%E5%AD%98%E5%82%A8%E5%8D%8A%E5%AD%97%E8%8A%82%EF%BC%88%E7%B1%BBI%EF%BC%89"><span class="toc-number">1.3.5.39.</span> <span class="toc-text">39.SH：存储半字节（类I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#40-SLL%EF%BC%9A%E9%80%BB%E8%BE%91%E5%B7%A6%E7%A7%BB%EF%BC%88%E7%B1%BBR"><span class="toc-number">1.3.5.40.</span> <span class="toc-text">40.SLL：逻辑左移（类R)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#41-SLLV-%E9%80%BB%E8%BE%91%E5%8F%AF%E5%8F%98%E5%B7%A6%E7%A7%BB%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.41.</span> <span class="toc-text">41.SLLV:逻辑可变左移（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#42-SLT-%E5%B0%8F%E4%BA%8E-%E6%9C%80%E4%BD%8E%E4%BD%8D-%E7%BD%AE1%EF%BC%88%E6%9C%89%E7%AC%A6%E5%8F%B7%EF%BC%89%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.42.</span> <span class="toc-text">42.SLT:小于(最低位)置1（有符号）（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#43-SLTI-%E5%B0%8F%E4%BA%8E%E7%AB%8B%E5%8D%B3%E6%95%B0%E7%BD%AE1%EF%BC%88%E6%9C%89%E7%AC%A6%E5%8F%B7%EF%BC%89%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.43.</span> <span class="toc-text">43.SLTI:小于立即数置1（有符号）（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#44-SLTIU%EF%BC%9A%E5%B0%8F%E4%BA%8E%E7%AB%8B%E5%8D%B3%E6%95%B0%E7%BD%AE1%EF%BC%88%E6%97%A0%E7%AC%A6%E5%8F%B7%EF%BC%89%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.44.</span> <span class="toc-text">44.SLTIU：小于立即数置1（无符号）（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#45-SLTU%EF%BC%9A%E5%B0%8F%E4%BA%8E%E7%BD%AE1%EF%BC%88%E6%97%A0%E7%AC%A6%E5%8F%B7%EF%BC%89%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.45.</span> <span class="toc-text">45.SLTU：小于置1（无符号）（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#46-SRA%EF%BC%9A%E7%AE%97%E6%9C%AF%E5%8F%B3%E7%A7%BB%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.46.</span> <span class="toc-text">46.SRA：算术右移（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#47-SRAV%EF%BC%9A%E7%AE%97%E6%9C%AF%E5%8F%AF%E5%8F%98%E5%8F%B3%E7%A7%BB%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.47.</span> <span class="toc-text">47.SRAV：算术可变右移（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#48-SRL-%E9%80%BB%E8%BE%91%E5%8F%B3%E7%A7%BB%EF%BC%88%E7%B1%BBR%EF%BC%89"><span class="toc-number">1.3.5.48.</span> <span class="toc-text">48.SRL:逻辑右移（类R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#49-SRLV%EF%BC%9A%E9%80%BB%E8%BE%91%E5%8F%AF%E5%8F%98%E5%8F%B3%E7%A7%BB%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.49.</span> <span class="toc-text">49.SRLV：逻辑可变右移（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#50-SUB%EF%BC%9A%E7%AC%A6%E5%8F%B7%E5%87%8F%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.50.</span> <span class="toc-text">50.SUB：符号减（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#51-SUBU-%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%87%8F%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.51.</span> <span class="toc-text">51.SUBU:无符号减（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#52-SW%EF%BC%9A%E5%AD%98%E5%82%A8%E5%AD%97%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.52.</span> <span class="toc-text">52.SW：存储字（I）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#53-SYSCALL%EF%BC%9A%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">1.3.5.53.</span> <span class="toc-text">53.SYSCALL：系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#54-XOR-%E5%BC%82%E6%88%96%EF%BC%88R%EF%BC%89"><span class="toc-number">1.3.5.54.</span> <span class="toc-text">54.XOR:异或（R）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#55-XORI%EF%BC%9A%E5%BC%82%E6%88%96%E7%AB%8B%E5%8D%B3%E6%95%B0%EF%BC%88I%EF%BC%89"><span class="toc-number">1.3.5.55.</span> <span class="toc-text">55.XORI：异或立即数（I）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.6.</span> <span class="toc-text">扩展指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.7.</span> <span class="toc-text">伪指令</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/09/Git/" title="Git"><img src="/img/GIT.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git"/></a><div class="content"><a class="title" href="/2024/09/09/Git/" title="Git">Git</a><time datetime="2024-09-09T04:48:31.000Z" title="发表于 2024-09-09 12:48:31">2024-09-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/09/English/" title="English"><img src="/img/English.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="English"/></a><div class="content"><a class="title" href="/2024/09/09/English/" title="English">English</a><time datetime="2024-09-09T02:04:08.000Z" title="发表于 2024-09-09 10:04:08">2024-09-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/07/%E8%B6%85%E7%BA%A7%E8%AE%A1%E7%AE%97%E6%9C%BA/" title="超级计算机"><img src="/img/%E8%B6%85%E7%BA%A7%E8%AE%A1%E7%AE%97%E6%9C%BA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="超级计算机"/></a><div class="content"><a class="title" href="/2024/09/07/%E8%B6%85%E7%BA%A7%E8%AE%A1%E7%AE%97%E6%9C%BA/" title="超级计算机">超级计算机</a><time datetime="2024-09-07T06:45:15.000Z" title="发表于 2024-09-07 14:45:15">2024-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/05/oopre/" title="oopre"><img src="/img/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="oopre"/></a><div class="content"><a class="title" href="/2024/09/05/oopre/" title="oopre">oopre</a><time datetime="2024-09-05T06:05:14.000Z" title="发表于 2024-09-05 14:05:14">2024-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/03/MIPS/" title="MIPS"><img src="/img/MIPS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MIPS"/></a><div class="content"><a class="title" href="/2024/09/03/MIPS/" title="MIPS">MIPS</a><time datetime="2024-09-03T12:51:51.000Z" title="发表于 2024-09-03 20:51:51">2024-09-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By 聿尛</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hello, welcome to my <a target="_blank" rel="noopener" href="https://yumooo.cn">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>